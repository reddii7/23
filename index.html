<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wagsnew</title>
    <link rel="stylesheet" href="style.css">    
    <!-- GSAP Library -->
    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="manifest" href="manifest.json">
    <!-- Theme color for browser UI -->
    <meta name="theme-color" content="rgb(26, 26, 26)" />
</head>

<body>

    <main>


        <div class="card-blue-med">
            <span class="text-gray">Scores</span>
            <a href="scores.html" class="plus-icon-link">
                <i class="fas fa-plus plus-icon-bottom-right"></i>
            </a>
        </div>

         <div class="card-gray-lg">
            <span class="text-blue">Handicaps</span>
            <a href="#handicaps-modal-trigger" class="plus-icon-link">
                <i class="fas fa-plus plus-icon-bottom-right"></i>
            </a>
        </div>

           <div class="card-teal-lg">
            <span class="text-gray">Best 14</span>
            <i class="fas fa-plus plus-icon-bottom-right"></i>
        </div>

              <div class="card-coral-med">
            <span class="text-gray">Leagues</span>
            <i class="fas fa-plus plus-icon-bottom-right"></i>
        </div>

         <div class="card-gray-lg">
            <span class="text-blue">RS Cup</span>
            <i class="fas fa-plus plus-icon-bottom-right"></i>
        </div>

    </main>

    <!-- Scores Modal -->
    <div id="scoresModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Week 06</h2>
            <table class="scores-table" style="width: 100%; margin-bottom: 15px;">
                <thead>
                    <tr>
                        <th>Player</th>
                        <th class="text-center">Pts</th>
                    </tr>
                </thead>
                <tbody>
                    <tr> <td>CHRIS BOARDS</td><td class="text-center original-score">25</td></tr>
                    <tr> <td>PAUL SMITH</td><td class="text-center original-score">20</td></tr>
                    <tr> <td>JAMES TOUGH</td><td class="text-center original-score">19</td></tr>
                    <tr> <td>JEZ WILLIAMS</td><td class="text-center original-score">18</td></tr>
                    <tr> <td>MARC ALLSOPP</td><td class="text-center original-score">18</td></tr>
                    <tr> <td>MARK MOSLEY</td><td class="text-center original-score">18</td></tr>
                    <tr> <td>MARK READY</td><td class="text-center original-score">18</td></tr>
                    <tr> <td>RICHARD SHAW</td><td class="text-center original-score">18</td></tr>
                    <tr> <td>ANDY RAY</td><td class="text-center original-score">17</td></tr>
                    <tr> <td>BRIAN ELLIOT</td><td class="text-center original-score">17</td></tr>
                    <tr> <td>CRAIG MILLIGAN</td><td class="text-center original-score">17</td></tr>
                    <tr> <td>KEVIN HORTON</td><td class="text-center original-score">17</td></tr>
                    <tr> <td>JON BODEN</td><td class="text-center original-score">16</td></tr>
                    <tr> <td>RICHARD BIRD</td><td class="text-center original-score">16</td></tr>
                    <tr> <td>TIM ALLSOPP</td><td class="text-center original-score">16</td></tr>
                    <tr> <td>TOM GREEN</td><td class="text-center original-score">16</td></tr>
                    <tr> <td>ADAM TEALE</td><td class="text-center original-score">15</td></tr>
                    <tr> <td>ADE COOPER</td><td class="text-center original-score">15</td></tr>
                    <tr> <td>DAVE HARRISON</td><td class="text-center original-score">15</td></tr>
                    <tr> <td>PAUL BLADES</td><td class="text-center original-score">15</td></tr>
                    <tr> <td>RICHARD CRAVEN JONES</td><td class="text-center original-score">14</td></tr>
                    <tr> <td>STEPHEN WALLACE</td><td class="text-center original-score">14</td></tr>
                    <tr> <td>TONY MYNARD</td><td class="text-center original-score">14</td></tr>
                    <tr> <td>ADAM SIMCOX</td><td class="text-center original-score">13</td></tr>
                    <tr> <td>IAN IND</td><td class="text-center original-score">13</td></tr>
                    <tr> <td>LES LAWRENCE</td><td class="text-center original-score">13</td></tr>
                    <tr> <td>STUART MURDOCK</td><td class="text-center original-score">13</td></tr>
                    <tr> <td>JOHN GOODMAN</td><td class="text-center original-score">12</td></tr>
                    <tr> <td>JON MURCHINGTON</td><td class="text-center original-score">12</td></tr>
                    <tr> <td>STEVE ROBINSON</td><td class="text-center original-score">12</td></tr>
                    <tr> <td>TIM LEWIS</td><td class="text-center original-score">12</td></tr>
                    <tr> <td>GARY ADCOCK</td><td class="text-center original-score">11</td></tr>
                    <tr> <td>MARTIN STEVENSON</td><td class="text-center original-score">11</td></tr>
                    <tr> <td>STEVE SUCH</td><td class="text-center original-score">11</td></tr>
                </tbody>
            </table>
        
        </div>
    </div>

    <!-- Handicaps Modal (Copy of Scores Modal with modifications) -->
    <div id="handicapsModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Handicaps </h2>
            <table class="scores-table" style="width: 100%; margin-bottom: 15px;">
                <thead>
                    <tr>
                        <th>Player</th>
                        <th class="text-center">New Pts</th>
                    </tr>
                </thead>
                <tbody>
         <tr> <td>ADAM SIMCOX</td><td class="text-center">3.3</td></tr>
 <tr> <td>ADAM TEALE</td><td class="text-center">6.6</td></tr>
 <tr> <td>ADE COOPER</td><td class="text-center">7.3</td></tr>
 <tr> <td>ANDREW KING</td><td class="text-center">3.3</td></tr>
 <tr> <td>ANDY RAY</td><td class="text-center">4</td></tr>
 <tr> <td>ANDY SPENCER</td><td class="text-center">0.9</td></tr>
 <tr> <td>BRIAN ELLIOT</td><td class="text-center">13</td></tr>
 <tr> <td>CHRIS BOARDS</td><td class="text-center">6.69999999999999</td></tr>
 <tr> <td>CRAIG MILLIGAN</td><td class="text-center">6.4</td></tr>
 <tr> <td>DAVE HARRISON</td><td class="text-center">3.9</td></tr>
 <tr> <td>GARY ADCOCK</td><td class="text-center">11.5</td></tr>
 <tr> <td>IAN IND</td><td class="text-center">5.29999999999999</td></tr>
 <tr> <td>JAMES HARRISON</td><td class="text-center">8.9</td></tr>
 <tr> <td>JAMES TOUGH</td><td class="text-center">3.7</td></tr>
 <tr> <td>JAMES WILLIS</td><td class="text-center">7.1</td></tr>
 <tr> <td>JEZ WILLIAMS</td><td class="text-center">3.9</td></tr>
 <tr> <td>JOHN GOODMAN</td><td class="text-center">2.4</td></tr>
 <tr> <td>JON BODEN</td><td class="text-center">5.2</td></tr>
 <tr> <td>JON MURCHINGTON</td><td class="text-center">11.2</td></tr>
 <tr> <td>JON PRICE</td><td class="text-center">6</td></tr>
 <tr> <td>KEVIN HORTON</td><td class="text-center">8.6</td></tr>
 <tr> <td>LEE EASTOE</td><td class="text-center">3.6</td></tr>
 <tr> <td>LES LAWRENCE</td><td class="text-center">4.8</td></tr>
 <tr> <td>MARC ALLSOPP</td><td class="text-center">5.8</td></tr>
 <tr> <td>MARK HOWELL</td><td class="text-center">4</td></tr>
 <tr> <td>MARK JACKSON</td><td class="text-center">4.1</td></tr>
 <tr> <td>MARK JEFFRIES</td><td class="text-center">3.4</td></tr>
 <tr> <td>MARK MOSLEY</td><td class="text-center">8</td></tr>
 <tr> <td>MARK READY</td><td class="text-center">8.69999999999999</td></tr>
 <tr> <td>MARTIN STEVENSON</td><td class="text-center">6</td></tr>
 <tr> <td>MATT O'BEIRNE</td><td class="text-center">7.3</td></tr>
 <tr> <td>MATT SPENCER</td><td class="text-center">2.7</td></tr>
 <tr> <td>MICK HENNESSY</td><td class="text-center">3.8</td></tr>
 <tr> <td>MICK SANDOZ</td><td class="text-center">2.1</td></tr>
 <tr> <td>NEALE ASTON</td><td class="text-center">8.5</td></tr>
 <tr> <td>NICK STABLEFORD</td><td class="text-center">3.8</td></tr>
 <tr> <td>PAUL BLADES</td><td class="text-center">3.8</td></tr>
 <tr> <td>PAUL CHAPMAN</td><td class="text-center">11.6</td></tr>
 <tr> <td>PAUL GARRATT</td><td class="text-center">2.3</td></tr>
 <tr> <td>PAUL SMITH</td><td class="text-center">7.3</td></tr>
 <tr> <td>PETER JEFFRIES</td><td class="text-center">10.6</td></tr>
 <tr> <td>RICHARD BIRD</td><td class="text-center">5.9</td></tr>
 <tr> <td>RICHARD COOK</td><td class="text-center">8.3</td></tr>
 <tr> <td>RICHARD CRAVEN JONES</td><td class="text-center">13</td></tr>
 <tr> <td>RICHARD SHAW</td><td class="text-center">4.1</td></tr>
 <tr> <td>ROSS JEFFRIES</td><td class="text-center">1.8</td></tr>
 <tr> <td>ROSS KELLY</td><td class="text-center">4.6</td></tr>
 <tr> <td>SCOTT WORRALL</td><td class="text-center">8.6</td></tr>
 <tr> <td>SIMON CARTER</td><td class="text-center">-0.5</td></tr>
 <tr> <td>STEPHEN WALLACE</td><td class="text-center">4.5</td></tr>
 <tr> <td>STEVE ROBINSON</td><td class="text-center">9.8</td></tr>
 <tr> <td>STEVE ROCHESTER</td><td class="text-center">7.6</td></tr>
 <tr> <td>STEVE SUCH</td><td class="text-center">6.79999999999999</td></tr>
 <tr> <td>STEVE TARMEY</td><td class="text-center">3.8</td></tr>
 <tr> <td>STUART MURDOCK</td><td class="text-center">4.8</td></tr>
 <tr> <td>TIM ALLSOPP</td><td class="text-center">3.1</td></tr>
 <tr> <td>TIM LEWIS</td><td class="text-center">7.69999999999999</td></tr>
 <tr> <td>TOM GREEN</td><td class="text-center">8.7</td></tr>
 <tr> <td>TONY MYNARD</td><td class="text-center">5.19999999999999</td></tr>
 <tr> <td>WARREN CROOK</td><td class="text-center">6.3</td></tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // Register the service worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/service-worker.js')
                .then(registration => console.log('Service Worker registered with scope:', registration.scope))
                .catch(function (error) {
                    console.error('Service Worker registration failed:', error);
                });
        }

        // GSAP Card Animations
        document.addEventListener('DOMContentLoaded', () => {
            // Ensure GSAP is loaded
            if (typeof gsap === 'undefined') {
                console.error('GSAP not loaded! Make sure the CDN link is correct and loads before this script.');
                return;
            }

            // Select all card elements
            const allCards = gsap.utils.toArray('.card-blue-med, .card-gray-lg, .card-teal-lg, .card-coral-med');

            if (allCards.length > 0) {
                gsap.from(allCards, {
                    duration: 0.8,      // Animation duration for each card
                    opacity: 0,         // Start with opacity 0
                    y: 50,              // Start 50px down
                    stagger: 0.2,       // Delay between each card's animation
                    ease: "power2.out", // Easing function for a smooth effect
                    delay: 0.3          // Optional: delay before the first card starts animating
                });
            }

            // Format handicap scores in the handicapsModal to one decimal place
            const handicapScoreCells = document.querySelectorAll('#handicapsModal .scores-table tbody td:nth-child(2)');
            handicapScoreCells.forEach(cell => {
                const scoreText = cell.textContent.trim();
                const score = parseFloat(scoreText);
                if (!isNaN(score)) {
                    cell.textContent = score.toFixed(1);
                }
            });

            // --- Scores Modal Elements & Logic ---
            const scoresModal = document.getElementById('scoresModal');
            const scoresModalContent = scoresModal ? scoresModal.querySelector('.modal-content') : null;
            const closeModalButtonScores = scoresModal ? scoresModal.querySelector('.close-button') : null;
            const scoresLink = document.querySelector('a[href="scores.html"]');

            // --- Handicaps Modal Elements & Logic ---
            const handicapsModal = document.getElementById('handicapsModal');
            const handicapsModalContent = handicapsModal ? handicapsModal.querySelector('.modal-content') : null;
            const closeModalButtonHandicaps = handicapsModal ? handicapsModal.querySelector('.close-button') : null;
            const handicapsLink = document.querySelector('a[href="#handicaps-modal-trigger"]');

            if (scoresLink && scoresModal && scoresModalContent && closeModalButtonScores) {
                scoresLink.addEventListener('click', function(event) {
                    event.preventDefault(); // Prevent immediate navigation

                    document.body.classList.add('modal-open-no-scroll');

                    // Open modal animation
                    // Initial state: off-screen to the right and invisible
                    gsap.set(scoresModalContent, { x: '100vw', autoAlpha: 0 }); 

                    // Animate overlay
                    gsap.to(scoresModal, { 
                        duration: 0.3, 
                        autoAlpha: 1, // Fades in and sets visibility: visible
                        ease: "power2.out" 
                    });
                    // Animate modal content sliding in from the right
                    gsap.to(scoresModalContent, { 
                        duration: 0.5, 
                        x: 0,          // Slide to its final horizontal position
                        autoAlpha: 1, 
                        ease: "power2.out", 
                        delay: 0.1     // Content slides in after overlay starts fading
                    });
                });

                // Function to close the modal
                function closeScoresModal() {
                    document.body.classList.remove('modal-open-no-scroll');

                    // Animate modal content sliding out to the right
                    gsap.to(scoresModalContent, { 
                        duration: 0.4, 
                        x: '100vw',    // Slide off-screen to the right
                        autoAlpha: 0,  // Fades out and sets visibility: hidden
                        ease: "power2.in" 
                    });
                    // Animate overlay
                    gsap.to(scoresModal, { 
                        duration: 0.3, 
                        autoAlpha: 0, 
                        ease: "power2.in", 
                        delay: 0.2 // Overlay fades after content starts sliding out
                    });
                }

                // Close modal with close button
                closeModalButtonScores.addEventListener('click', closeScoresModal);

                // Close modal by clicking on the overlay
                scoresModal.addEventListener('click', function(event) {
                    if (event.target === scoresModal) { // Clicked on the overlay itself
                        closeScoresModal();
                    }
                });
            } else {
                if (!scoresLink) console.error('Scores link (a[href="scores.html"]) not found.');
                if (!scoresModal) console.error('Element with ID "scoresModal" not found.');
                if (!scoresModalContent) console.error('Element with class "modal-content" inside scoresModal not found.');
                if (!closeModalButtonScores) console.error('Element with class "close-button" inside scoresModal not found.');
            }

            // --- Handicaps Modal Logic ---
            if (handicapsLink && handicapsModal && handicapsModalContent && closeModalButtonHandicaps) {
                handicapsLink.addEventListener('click', function(event) {
                    event.preventDefault(); 
                    document.body.classList.add('modal-open-no-scroll');
                    gsap.set(handicapsModalContent, { x: '100vw', autoAlpha: 0 });

                    gsap.to(handicapsModal, { 
                        duration: 0.3, 
                        autoAlpha: 1,
                        ease: "power2.out" 
                    });
                    gsap.to(handicapsModalContent, { 
                        duration: 0.5,
                        x: 0,
                        autoAlpha: 1, 
                        ease: "power2.out", 
                        delay: 0.1
                    });
                });

                function closeHandicapsModal() {
                    document.body.classList.remove('modal-open-no-scroll');
                    gsap.to(handicapsModalContent, { 
                        duration: 0.4,
                        x: '100vw',
                        autoAlpha: 0,
                        ease: "power2.in" 
                    });
                    gsap.to(handicapsModal, { 
                        duration: 0.3,
                        autoAlpha: 0, 
                        ease: "power2.in", 
                        delay: 0.2
                    });
                }

                closeModalButtonHandicaps.addEventListener('click', closeHandicapsModal);
                handicapsModal.addEventListener('click', function(event) {
                    if (event.target === handicapsModal) {
                        closeHandicapsModal();
                    }
                });
            } else {
                if (!handicapsLink) console.error('Handicaps link (a[href="#handicaps-modal-trigger"]) not found.');
                if (!handicapsModal) console.error('Element with ID "handicapsModal" not found.');
                if (!handicapsModalContent) console.error('Element with class "modal-content" inside handicapsModal not found.');
                if (!closeModalButtonHandicaps) console.error('Element with class "close-button" inside handicapsModal not found.');
            }

        });
    </script>
</body>

</html>
